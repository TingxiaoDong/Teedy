<form name="form">
<div class="modal-header">
  <h3>{{ 'register.title' | translate }}</h3>
</div>
<div class="modal-body">
  <div class="form-group" ng-class="{ 'has-error': !form.username.$valid && form.$dirty }">
    <label for="inputUsername">{{ 'register.username' | translate }}</label>
    <input name="username" class="form-control" type="text" required id="inputUsername" ng-model="request.username" autofocus />
    <span class="help-block" ng-show="form.username.$error.required && form.$dirty">{{ 'validation.required' | translate }}</span>
  </div>

  <div class="form-group" ng-class="{ 'has-error': !form.email.$valid && form.$dirty || emailError }">
    <label for="inputEmail">{{ 'register.email' | translate }}</label>
    <input name="email" class="form-control" type="email" required id="inputEmail" ng-model="request.email" />
    <span class="help-block" ng-show="form.email.$error.required && form.$dirty">{{ 'validation.required' | translate }}</span>
    <span class="help-block" ng-show="form.email.$error.email && form.$dirty">{{ 'validation.email' | translate }}</span>
    <span class="help-block" ng-show="emailError">{{ 'register.email_exists' | translate }}</span>
  </div>

  <div class="form-group" ng-class="{ 'has-error': !form.password.$valid && form.$dirty }">
    <label for="inputPassword">{{ 'register.password' | translate }}</label>
    <input name="password" class="form-control" type="password" required id="inputPassword" ng-model="request.password" />
    <span class="help-block" ng-show="form.password.$error.required && form.$dirty">{{ 'validation.required' | translate }}</span>
  </div>

  <div class="form-group" ng-class="{ 'has-error': !form.requestMessage.$valid && form.$dirty }">
    <label for="inputMessage">{{ 'register.message' | translate }}</label>
    <textarea name="requestMessage" class="form-control" id="inputMessage" ng-model="request.requestMessage"></textarea>
  </div>
</div>
<div class="modal-footer">
  <button ng-click="close(request)" class="btn btn-primary" ng-disabled="!form.$valid">
    <span class="fas fa-user-plus"></span> {{ 'register.submit' | translate }}
  </button>
  <button ng-click="close(null)" class="btn btn-default">{{ 'cancel' | translate }}</button>
</div>
</form> 